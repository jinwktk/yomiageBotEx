# yomiageBotEx 設定ファイル

bot:
  command_prefix: "/"
  auto_join: true
  auto_leave: true
  rate_limit_delay: [0.5, 1.0]  # API呼び出し時のランダム遅延（秒）
  admin_user_id: 372768430149074954  # 管理者ユーザーID

# TTS設定は data/tts_config.json に移動しました
# /set_global_tts コマンドで動的に変更されるため、Git管理下から除外

audio_processing:
  normalize: true           # 音声ノーマライズ機能の有効/無効
  target_level: -16.0       # ターゲットレベル（dBFS）
  filters:                  # 適用するフィルター
    - "highpass=f=80"       # ローカットフィルター
    - "lowpass=f=8000"      # ハイカットフィルター

recording:
  enabled: true       # 録音機能の有効/無効
  max_duration: 300   # 最大録音時間（秒）
  cleanup_hours: 1    # 録音ファイルの自動削除時間
  default_duration: 30 # デフォルト録音時間（秒）
  max_file_size_mb: 50 # 最大ファイルサイズ（MB）

# 音声横流し（リレー）機能
audio_relay:
  enabled: true       # 音声リレー機能の有効/無効（有効に変更）
  volume: 0.5         # リレー音声のボリューム（0.0-1.0）
  max_sessions: 3     # 同時実行可能なセッション数
  max_duration_hours: 1  # セッション最大継続時間（時間）
  stream_cooldown: 2.0   # ユーザーのストリーム切り替えクールダウン（秒）
  buffer_interval: 5.0   # バッファフラッシュ間隔（秒）
  
  # 自動開始設定
  auto_start: true    # ボット起動時の自動リレー開始
  auto_relay_pairs:   # 自動開始するリレーペア一覧
    - source_guild_id: 995627275074666568        # 転送元サーバーID
      source_channel_id: 995627275074666568      # 転送元チャンネルID（同じIDを想定）
      target_guild_id: 813783748566581249        # 転送先サーバーID
      target_channel_id: 813783749153259606      # 転送先チャンネルID
      enabled: true                              # このペアを有効

message_reading:
  enabled: true                           # チャット読み上げ機能の有効/無効
  max_length: 100                         # 読み上げる最大文字数
  ignore_prefixes: ["!", "/", ".", "?"]   # 読み上げしないプレフィックス
  ignore_bots: true                       # ボットのメッセージを無視

logging:
  level: "INFO"
  file: "logs/yomiage.log"
  rotation:                    # ログローテーション設定
    max_bytes: 10485760        # ファイルサイズ上限（10MB）
    backup_count: 5            # 保持するバックアップ数
    compression: true          # gzip圧縮の有効/無効
    rotate_on_startup: true    # 起動時のログローテーション
  cleanup:                     # 古いログファイルのクリーンアップ
    enabled: true              # クリーンアップ機能の有効/無効
    max_days: 30               # ログファイルの保持日数

# 辞書機能（読み上げ時の単語置換）
dictionary:
  enabled: true                # 辞書機能の有効/無効
  max_words_per_guild: 1000    # ギルドあたりの最大単語数
  max_word_length: 50          # 単語の最大文字数
  max_reading_length: 100      # 読み方の最大文字数